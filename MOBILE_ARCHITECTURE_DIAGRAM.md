# Mobile App Architecture Diagram

## System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         TURBOREPO MONOREPO                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   WEB (SvelteKit) â”‚                    â”‚  MOBILE (Expo RN) â”‚    â”‚
â”‚  â”‚                   â”‚                    â”‚                   â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  â”‚  UI Layer   â”‚  â”‚                    â”‚  â”‚  UI Layer   â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  (Svelte)   â”‚  â”‚                    â”‚  â”‚ (React      â”‚  â”‚    â”‚
â”‚  â”‚  â”‚             â”‚  â”‚                    â”‚  â”‚  Native)    â”‚  â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                    â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â”‚        â”‚          â”‚                    â”‚        â”‚          â”‚    â”‚
â”‚  â”‚        â†“          â”‚                    â”‚        â†“          â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  â”‚ Repositoriesâ”‚  â”‚                    â”‚  â”‚ Repositoriesâ”‚  â”‚    â”‚
â”‚  â”‚  â”‚ (Supabase)  â”‚  â”‚                    â”‚  â”‚ (Supabase)  â”‚  â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                    â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚           â”‚                                        â”‚               â”‚
â”‚           â”‚                                        â”‚               â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                            â”‚                                       â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚                   â”‚  SHARED PACKAGES â”‚                             â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                            â”‚                                       â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚          â”‚                 â”‚                 â”‚                    â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”              â”‚
â”‚    â”‚  @repo/   â”‚    â”‚  @repo/   â”‚    â”‚  @repo/   â”‚              â”‚
â”‚    â”‚  domain   â”‚    â”‚   core    â”‚    â”‚ database  â”‚              â”‚
â”‚    â”‚           â”‚    â”‚           â”‚    â”‚           â”‚              â”‚
â”‚    â”‚ Business  â”‚    â”‚ Utilities â”‚    â”‚   Types   â”‚              â”‚
â”‚    â”‚  Logic    â”‚    â”‚ Helpers   â”‚    â”‚  Schemas  â”‚              â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                     â”‚
â”‚                            â†“                                       â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚                   â”‚    SUPABASE     â”‚                              â”‚
â”‚                   â”‚   (PostgreSQL)  â”‚                              â”‚
â”‚                   â”‚                 â”‚                              â”‚
â”‚                   â”‚  â€¢ Products     â”‚                              â”‚
â”‚                   â”‚  â€¢ Users        â”‚                              â”‚
â”‚                   â”‚  â€¢ Orders       â”‚                              â”‚
â”‚                   â”‚  â€¢ Messages     â”‚                              â”‚
â”‚                   â”‚  â€¢ Cart         â”‚                              â”‚
â”‚                   â”‚  â€¢ Payments     â”‚                              â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow - Product Listing Example

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. USER ACTION                                                    â”‚
â”‚    User types in search box â†’ "vintage jacket"                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. REACT NATIVE UI LAYER                                          â”‚
â”‚    apps/mobile/app/(tabs)/index.tsx                              â”‚
â”‚                                                                   â”‚
â”‚    const { data } = useQuery({                                   â”‚
â”‚      queryKey: ['products', searchQuery],                        â”‚
â”‚      queryFn: async () => {                                      â”‚
â”‚        return await searchProductsService.execute({              â”‚
â”‚          query: "vintage jacket"                                 â”‚
â”‚        });                                                        â”‚
â”‚      }                                                            â”‚
â”‚    });                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. TANSTACK QUERY LAYER                                           â”‚
â”‚    @tanstack/react-query                                         â”‚
â”‚                                                                   â”‚
â”‚    â€¢ Manages cache                                               â”‚
â”‚    â€¢ Handles loading states                                      â”‚
â”‚    â€¢ Automatic refetching                                        â”‚
â”‚    â€¢ Background updates                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. DOMAIN SERVICE LAYER                                           â”‚
â”‚    @repo/domain/products                                         â”‚
â”‚    packages/domain/src/products/services.ts                     â”‚
â”‚                                                                   â”‚
â”‚    class SearchProducts {                                        â”‚
â”‚      async execute(params) {                                     â”‚
â”‚        // 1. Validate search params                             â”‚
â”‚        // 2. Apply business rules                               â”‚
â”‚        // 3. Call repository                                     â”‚
â”‚        // 4. Filter results                                      â”‚
â”‚        return result;                                            â”‚
â”‚      }                                                            â”‚
â”‚    }                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. REPOSITORY LAYER                                               â”‚
â”‚    apps/mobile/app/(tabs)/index.tsx (ProductRepository)         â”‚
â”‚                                                                   â”‚
â”‚    class ProductRepository {                                     â”‚
â”‚      async search(params) {                                      â”‚
â”‚        return await supabase                                     â”‚
â”‚          .from('products')                                       â”‚
â”‚          .select('...')                                          â”‚
â”‚          .or(`title.ilike.%vintage jacket%,...`)                â”‚
â”‚          .eq('is_active', true)                                  â”‚
â”‚      }                                                            â”‚
â”‚    }                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. SUPABASE CLIENT                                                â”‚
â”‚    @repo/mobile-shared/lib/supabase.ts                          â”‚
â”‚                                                                   â”‚
â”‚    const supabase = createClient<Database>(url, key, {          â”‚
â”‚      auth: {                                                     â”‚
â”‚        storage: AsyncStorage,                                    â”‚
â”‚        flowType: 'pkce'                                          â”‚
â”‚      }                                                            â”‚
â”‚    });                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. DATABASE (Supabase PostgreSQL)                                â”‚
â”‚                                                                   â”‚
â”‚    SELECT * FROM products                                        â”‚
â”‚    WHERE (title ILIKE '%vintage jacket%'                        â”‚
â”‚           OR description ILIKE '%vintage jacket%')               â”‚
â”‚      AND is_active = true                                        â”‚
â”‚      AND is_sold = false                                         â”‚
â”‚    ORDER BY created_at DESC                                      â”‚
â”‚    LIMIT 20;                                                     â”‚
â”‚                                                                   â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚    â”‚ Result: 5 products found                â”‚                  â”‚
â”‚    â”‚ - Vintage Leather Jacket (â‚¬89)          â”‚                  â”‚
â”‚    â”‚ - Retro Denim Jacket (â‚¬45)              â”‚                  â”‚
â”‚    â”‚ - Classic Bomber Jacket (â‚¬120)          â”‚                  â”‚
â”‚    â”‚ - Vintage Suede Jacket (â‚¬95)            â”‚                  â”‚
â”‚    â”‚ - 80s Windbreaker Jacket (â‚¬35)          â”‚                  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8. RESPONSE FLOWS BACK UP                                         â”‚
â”‚                                                                   â”‚
â”‚    Database â†’ Supabase Client â†’ Repository                      â”‚
â”‚         â†’ Domain Service â†’ TanStack Query â†’ UI                  â”‚
â”‚                                                                   â”‚
â”‚    UI renders:                                                   â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚    â”‚ Vintage    â”‚  â”‚ Retro      â”‚                               â”‚
â”‚    â”‚ Leather    â”‚  â”‚ Denim      â”‚                               â”‚
â”‚    â”‚ Jacket     â”‚  â”‚ Jacket     â”‚                               â”‚
â”‚    â”‚ â‚¬89        â”‚  â”‚ â‚¬45        â”‚                               â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚    (Grid continues...)                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Layer Responsibilities

### ğŸ¨ UI Layer (React Native)
**Location**: `apps/mobile/app/`

**Responsibilities**:
- Render components
- Handle user interactions
- Display loading/error states
- Navigate between screens
- Call domain services via TanStack Query

**Examples**:
- Product listing screen
- Product detail screen
- Cart screen
- Login screen

### ğŸ“¦ Repository Layer
**Location**: `apps/mobile/app/` (inline) or `packages/mobile-shared/repositories/`

**Responsibilities**:
- Implement domain repository interfaces
- Abstract Supabase API calls
- Transform database results to domain entities
- Handle database errors

**Examples**:
- ProductRepository
- CartRepository
- UserRepository
- OrderRepository

### ğŸ¢ Domain Layer (Business Logic)
**Location**: `packages/domain/src/`

**Responsibilities**:
- Enforce business rules
- Validate inputs
- Coordinate operations
- Independent of UI/database
- Platform-agnostic

**Examples**:
- SearchProducts service
- AddToCart service
- CreateOrder service
- SendMessage service

### ğŸ› ï¸ Core Layer (Utilities)
**Location**: `packages/core/src/`

**Responsibilities**:
- Formatting helpers
- Validation schemas
- Type definitions
- Email templates
- Stripe integration

**Examples**:
- formatCurrency()
- productSchema
- Email templates
- Stripe utilities

### ğŸ—„ï¸ Database Layer (Types)
**Location**: `packages/database/src/`

**Responsibilities**:
- TypeScript types generated from database
- Supabase type definitions
- Ensure type safety

**Examples**:
- Database type
- Tables type
- Enums type

### ğŸ”Œ Supabase Client
**Location**: `packages/mobile-shared/src/lib/supabase.ts`

**Responsibilities**:
- Configure Supabase client
- Manage authentication
- Handle sessions
- AsyncStorage integration

## Shared Package Dependencies

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        @repo/domain                          â”‚
â”‚                      (Business Logic)                        â”‚
â”‚                                                              â”‚
â”‚  Exports:                                                    â”‚
â”‚  â€¢ SearchProducts                                            â”‚
â”‚  â€¢ GetProductBySlug                                          â”‚
â”‚  â€¢ AddToCart, RemoveFromCart                                â”‚
â”‚  â€¢ CreateOrder, GetOrders                                    â”‚
â”‚  â€¢ SendMessage, GetConversations                            â”‚
â”‚  â€¢ CreatePaymentIntent                                       â”‚
â”‚                                                              â”‚
â”‚  Depends on: @repo/database (types only)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â†“ Uses
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        @repo/core                            â”‚
â”‚                    (Shared Utilities)                        â”‚
â”‚                                                              â”‚
â”‚  Exports:                                                    â”‚
â”‚  â€¢ formatCurrency()                                          â”‚
â”‚  â€¢ formatDate()                                              â”‚
â”‚  â€¢ slugify()                                                 â”‚
â”‚  â€¢ productSchema (Zod)                                       â”‚
â”‚  â€¢ Email templates                                           â”‚
â”‚  â€¢ Stripe utilities                                          â”‚
â”‚                                                              â”‚
â”‚  Depends on: @repo/database (types only)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â†“ Uses
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      @repo/database                          â”‚
â”‚                    (TypeScript Types)                        â”‚
â”‚                                                              â”‚
â”‚  Exports:                                                    â”‚
â”‚  â€¢ Database (full DB schema types)                          â”‚
â”‚  â€¢ Tables (table row types)                                 â”‚
â”‚  â€¢ Enums (database enums)                                    â”‚
â”‚                                                              â”‚
â”‚  Generated from: Supabase database schema                   â”‚
â”‚  Depends on: Nothing (leaf package)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Mobile vs Web - Comparison

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Layer           â”‚      Web (Svelte)    â”‚   Mobile (React)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ UI Framework         â”‚ SvelteKit            â”‚ React Native + Expo  â”‚
â”‚ Styling              â”‚ Tailwind CSS         â”‚ NativeWind/StyleSheetâ”‚
â”‚ Routing              â”‚ File-based (Svelte)  â”‚ Expo Router          â”‚
â”‚ State Management     â”‚ Svelte stores        â”‚ Zustand/TanStack     â”‚
â”‚ Forms                â”‚ SvelteKit forms      â”‚ React Hook Form      â”‚
â”‚ Auth                 â”‚ @supabase/ssr        â”‚ @supabase/supabase-jsâ”‚
â”‚ Session Storage      â”‚ Cookies              â”‚ AsyncStorage         â”‚
â”‚                      â”‚                      â”‚                      â”‚
â”‚ SHARED (Same Code):  â”‚                      â”‚                      â”‚
â”‚ Business Logic       â”‚ @repo/domain âœ…      â”‚ @repo/domain âœ…      â”‚
â”‚ Utilities            â”‚ @repo/core âœ…        â”‚ @repo/core âœ…        â”‚
â”‚ Types                â”‚ @repo/database âœ…    â”‚ @repo/database âœ…    â”‚
â”‚ Validation           â”‚ @repo/core/validationâ”‚ @repo/core/validationâ”‚
â”‚ Supabase Instance    â”‚ Same âœ…              â”‚ Same âœ…              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Benefits Visualization

```
        WITHOUT Turborepo                    WITH Turborepo
  (Traditional Multi-Project)              (Monorepo - Our Setup)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    WEB PROJECT           â”‚         â”‚    TURBOREPO MONOREPO    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Business Logic 1   â”‚  â”‚         â”‚  â”‚  @repo/domain       â”‚ â”‚
â”‚  â”‚ (duplicated)       â”‚  â”‚         â”‚  â”‚  (shared)           â”‚ â”‚
â”‚  â”‚                    â”‚  â”‚         â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”‚ â€¢ Products         â”‚  â”‚         â”‚        â”‚       â”‚          â”‚
â”‚  â”‚ â€¢ Cart             â”‚  â”‚         â”‚   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â” â”Œâ–¼â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â€¢ Orders           â”‚  â”‚         â”‚   â”‚  Web   â”‚ â”‚Mobileâ”‚   â”‚
â”‚  â”‚ â€¢ Users            â”‚  â”‚         â”‚   â”‚        â”‚ â”‚      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚         â”‚   â”‚  Uses  â”‚ â”‚Uses  â”‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚   â”‚ domain â”‚ â”‚domainâ”‚   â”‚
                                     â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  MOBILE PROJECT          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚         âœ… Single source of truth
â”‚  â”‚ Business Logic 2   â”‚  â”‚         âœ… No duplication
â”‚  â”‚ (duplicated!)      â”‚  â”‚         âœ… Fix bugs once
â”‚  â”‚                    â”‚  â”‚         âœ… Add features once
â”‚  â”‚ â€¢ Products âŒ      â”‚  â”‚         âœ… Type-safe
â”‚  â”‚ â€¢ Cart âŒ          â”‚  â”‚         âœ… Consistent behavior
â”‚  â”‚ â€¢ Orders âŒ        â”‚  â”‚
â”‚  â”‚ â€¢ Users âŒ         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âŒ Bugs must be fixed twice
âŒ Features must be added twice
âŒ Logic can diverge
âŒ No shared types
âŒ Maintenance nightmare
```

## Summary

âœ… **Web** and **Mobile** share the same:
- Business logic (@repo/domain)
- Utilities (@repo/core)
- Types (@repo/database)
- Supabase instance
- Database schema

âœ… **Web** and **Mobile** differ in:
- UI framework (Svelte vs React Native)
- Routing (SvelteKit vs Expo Router)
- Styling (Tailwind vs StyleSheet)
- Platform (Browser vs iOS/Android)

âœ… **Result**: 
- ğŸš€ Faster development
- ğŸ› Fewer bugs
- ğŸ“¦ Less code to maintain
- ğŸ¯ Consistent behavior
- ğŸ’ª Type-safe
